# minecraft-server1-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: minecraft-server-2-creative
spec:
  replicas: 1
  selector:
    matchLabels:
      app: minecraft-server-2-creative
  template:
    metadata:
      labels:
        app: minecraft-server-2-creative
    spec:
      containers:
        - name: mc
          image: itzg/minecraft-server
          env:
            - name: EULA
              value: "TRUE"
            - name: MEMORY
              value: "8G"
            - name: MODE
              value: "creative"
            - name: TYPE
              value: "PAPER"
            - name: MOTD
              value: |
                A Creative §l§cTardi§r Minecraft §nserver
                Running on %VERSION%
            - name: WHITELIST
              value: |
                Eccentric87
                Eccentric1987
                .Wheatgrass87
            - name: OPS
              value: |
               Eccentric87
            - name: PLUGINS
              value: |
                 https://download.geysermc.org/v2/projects/geyser/versions/latest/builds/latest/downloads/spigot
                 https://download.geysermc.org/v2/projects/floodgate/versions/latest/builds/latest/downloads/spigot
          ports:
            - containerPort: 25565
            - containerPort: 19132   # Bedrock Edition (UDP)
              protocol: UDP
          volumeMounts:
            - name: mc-data
              mountPath: /data
      volumes:
        - name: mc-data
          persistentVolumeClaim:
            claimName: minecraft-server-2-pvc

